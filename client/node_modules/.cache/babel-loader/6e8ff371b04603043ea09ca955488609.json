{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amray\\\\cogapp\\\\client\\\\src\\\\Analysis.js\";\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport React, { Component } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { BarChart, Bar, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\nimport PostData from \"./data.json\";\nimport CategoryChart from './CategoryChart';\n\nconst styles = theme => ({\n  button: {\n    marginTop: 10,\n    margin: theme.spacing.unit\n  }\n});\n\nclass Analysis extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      items: null,\n      s: \"out\"\n    };\n  }\n\n  async componentDidMount() {\n    await fetch(\"/campaigns/\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(PostData)\n    });\n    console.log(PostData);\n    console.log(\"----\");\n    fetch(\"/report/?dims=country,goal&fields=name,country,category\").then(res => res.json()).then(result => {\n      this.setState({\n        isLoaded: true,\n        items: result,\n        s: \"in\"\n      });\n    }, error => {\n      this.setState({\n        isLoaded: \"error\",\n        s: \"error\"\n      });\n    });\n  }\n\n  render() {\n    const _this$props = this.props,\n          classes = _this$props.classes,\n          theme = _this$props.theme;\n    const _this$state = this.state,\n          error = _this$state.error,\n          isLoaded = _this$state.isLoaded,\n          items = _this$state.items;\n    var egySports = 0;\n    var egyTech = 0;\n    var usaSports = 0;\n    var usaTech = 0;\n\n    if (error) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Error: \", error.message);\n    } else if (!isLoaded) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Loading...\");\n    } else {\n      var egypt = this.state.items.EGY;\n      var usa = this.state.items.USA;\n      console.log(\"here\");\n      console.log(egypt);\n      console.log(usa);\n      console.log(egypt.length);\n\n      for (var i = 0; i < egypt.length; i++) {\n        if (egypt[i][\"category\"] == \"Sports\") {\n          console.log(egypt[\"category\"]);\n          egySports++;\n        } else if (egypt[i][\"category\"] == \"Technology\") {\n          egyTech++;\n        }\n      }\n\n      for (var i = 0; i < usa.length; i++) {\n        if (usa[i][\"category\"] == \"Sports\") {\n          usaSports++;\n        } else if (usa[i][\"category\"] == \"Technology\") {\n          usaTech++;\n        }\n      }\n\n      console.log(egySports);\n      console.log(usaSports);\n      var data = [{\n        name: 'USA',\n        Sports: usaSports,\n        Technology: usaTech\n      }, {\n        name: 'EGYPT',\n        Sports: egySports,\n        Technology: egyTech\n      }];\n    }\n\n    return React.createElement(Grid, {\n      container: true,\n      spacing: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Analysis By Country And Category\")), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(CategoryChart, {\n      campaigns: this.state.items,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.button,\n      onClick: this.dailyPrices,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"By Category\"), React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.button,\n      onClick: this.weeklyPrices,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"By Goal\")));\n  }\n\n}\n\nexport default withStyles(styles)(Analysis);","map":{"version":3,"sources":["C:\\Users\\amray\\cogapp\\client\\src\\Analysis.js"],"names":["React","Component","Paper","Grid","BarChart","Bar","Cell","XAxis","YAxis","CartesianGrid","Tooltip","Legend","Button","withStyles","PostData","CategoryChart","styles","theme","button","marginTop","margin","spacing","unit","Analysis","constructor","props","state","error","isLoaded","items","s","componentDidMount","fetch","method","headers","body","JSON","stringify","console","log","then","res","json","result","setState","render","classes","egySports","egyTech","usaSports","usaTech","message","egypt","EGY","usa","USA","length","i","data","name","Sports","Technology","dailyPrices","weeklyPrices"],"mappings":"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","sourcesContent":["\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport React, { Component } from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {\r\n  BarChart, Bar, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\r\n} from 'recharts';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PostData from \"./data.json\";\r\nimport CategoryChart from './CategoryChart';\r\n\r\nconst styles = theme => ({\r\n \r\n    button: {\r\n      marginTop:10,\r\n      margin: theme.spacing.unit,\r\n    },\r\n  });\r\n\r\nclass Analysis extends Component {\r\n\r\n    \r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      items: null,\r\n      s : \"out\"\r\n    };\r\n  }\r\n  async componentDidMount() {\r\n    await fetch(\"/campaigns/\", {\r\n      method: 'POST',\r\n      headers: {\r\n        \r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(PostData)\r\n    });\r\n    console.log(PostData);\r\n    console.log(\"----\");\r\n    fetch(\"/report/?dims=country,goal&fields=name,country,category\")\r\n    .then(res => res.json())\r\n    .then(\r\n      (result) => {\r\n        this.setState({\r\n          isLoaded: true,\r\n          items: result,\r\n          s : \"in\"\r\n        \r\n          \r\n          \r\n        });\r\n        \r\n      },\r\n      \r\n      (error) => {\r\n        this.setState({\r\n          isLoaded: \"error\",\r\n          s : \"error\"\r\n          \r\n        });\r\n      }\r\n    )\r\n \r\n  }\r\n\r\n\r\n  render() {\r\n    const { classes, theme } = this.props;\r\n    const { error, isLoaded, items } = this.state;\r\n    var egySports = 0;\r\n    var egyTech = 0;\r\n    var usaSports = 0;\r\n    var usaTech = 0;\r\n    if (error) {\r\n      return <div>Error: {error.message}</div>;\r\n      \r\n    } else if (!isLoaded) {\r\n      return <div>Loading...</div>;\r\n    } else {\r\n\r\n      var egypt = this.state.items.EGY;\r\n      var usa = this.state.items.USA;\r\n      console.log(\"here\");\r\n      console.log(egypt);\r\n      console.log(usa);\r\n      console.log(egypt.length);\r\n      for(var i = 0; i < egypt.length ; i++){\r\n        if(egypt[i][\"category\"]==\"Sports\"){\r\n          console.log(egypt[\"category\"]);\r\n            egySports++;\r\n        }\r\n        else if(egypt[i][\"category\"]==\"Technology\"){\r\n          egyTech++;\r\n        }\r\n      }\r\n\r\n      for(var i = 0; i < usa.length ; i++){\r\n        if(usa[i][\"category\"]==\"Sports\"){\r\n           usaSports++;\r\n        }\r\n        else if(usa[i][\"category\"]==\"Technology\"){\r\n          usaTech++;\r\n        }\r\n      }\r\n\r\n      console.log(egySports);\r\n      console.log(usaSports);\r\n      var data = [\r\n        {\r\n          name: 'USA', Sports: usaSports, Technology: usaTech\r\n        },\r\n        {\r\n          name: 'EGYPT', Sports: egySports, Technology: egyTech\r\n        },\r\n    \r\n      ];\r\n      \r\n\r\n    }\r\n\r\n    return (\r\n\r\n      \r\n      <Grid container spacing={24}>\r\n\r\n        <Grid item xs={12}>\r\n        <h1 className= \"header\">Analysis By Country And Category</h1>\r\n     \r\n        </Grid>\r\n         <Grid item xs={12}>\r\n        \r\n        <CategoryChart campaigns = {this.state.items}></CategoryChart>\r\n      \r\n      \r\n      <Button variant=\"contained\" color=\"primary\" className={classes.button}\r\n       onClick={this.dailyPrices}\r\n      >\r\n        By Category\r\n      </Button>\r\n\r\n      <Button variant=\"contained\" color=\"primary\" className={classes.button}\r\n       onClick={this.weeklyPrices}\r\n      >\r\n        By Goal\r\n      </Button>\r\n\r\n         </Grid>\r\n\r\n      \r\n        \r\n    </Grid>);\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Analysis);\r\n"]},"metadata":{},"sourceType":"module"}